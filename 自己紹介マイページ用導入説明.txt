整備中
できるだけダンジョン作成者の希望に沿うようなプレイを心がけましょう。

整備中 整備中 整備中
-------------
ダンジョン。
クリアできない不具合を回避するブラウザ拡張機能 覚書
2025.07.25-随時更新

拡張機能の有効無効のスイッチを切り替えて、効果確認。

■■ 名前、動作確認、動作

■ 名前 MineoDungeonWait

動作確認機種
PC版Firefox
Android版Firefox

連続通信になるときに1秒待ち時間を入れます。Wait
階段で下に降りた後、矢印表示されるまでに1秒、間があります。
間がない場合、導入失敗です。


■ 名前 MineoDungeonBlockMV3

通信ごとに1秒弱通信ブロックします。Block
連続通信になるとブロックされるので、通信エラー表示になります。
自分でリトライボタンを押して、プレイを続けます。
ゲーム終了を押さないように、気をつける必要が有ります。

注意
調整してますが、環境によって、歩いている時に通信エラーになるかもしれません。
[ゲーム終了]を押してしまいがちで、良くないので修正する必要があります。


動作確認機種
PC版Edge
PC版Chrome
PC版Chromium
PCブラウザはChromiumベースならできそう。

(マニフェストVersion2)
Android版Edge Canary (Edgeの不安定バージョン)
通常版Edgeは不可。

-------------
導入方法、設定画面はバージョンによって変わりやすい。
■■■ 導入
■ MineoDungeonWait
PC版Firefox
Android版Firefox
Firefoxのアドオンから検索、追加できる。

https://addons.mozilla.org/ja/firefox/addon/mineodungeonwait/

PC版Firefox
[ 拡張機能 ] 画面の
アドオンを探す から mineodungeonwait で検索する。
MineoDungeonWait のページを表示して [ Firefoxへ追加 ]を押す。

Android版Firefox
[ 拡張機能 ] 画面の 一番下にスクロールして、[ 拡張機能を探す ] を押す。
アドオンのWebページに遷移する。
検索ボックスで mineodungeonwait を入力する。
追加のときに権限とか出るが、何もせずに [ 追加 ]

以上


動作メモ
1秒待機の間にF5リロードすると、通信エラー画面が表示されてからリロードされる。 調べていない

Chromiumでは機能が無効になっており動作しない。
Firefoxでも、いつ機能が無効になるかわかりません。

-------------
■■■ 導入
■ MineoDungeonBlockMV3
Edge, Chrome, Chromiumベースのブラウザ
PC版
zipファイルをダウンロード、展開して、フォルダを読み込ませる方法。
mineodungeonblock-main.zip

https://github.com/macwindow/mineodunMV3butu/blob/main/mineodungeonblock-main.zip
Githubサイトで zipファイルをダウンロードする
PCだと右側にあるダウンロードのアイコン [Download raw file]

どこかに展開しておく。

ブラウザの拡張機能の設定画面にする。
ディベロッパーモード(開発者モード)をONにする。

chrome
chromium
[ パッケージ化されていない拡張機能を読み込む ]

Edge
[ 展開して読み込み ]

展開したフォルダを選択する。

以上

-------------
■■■ 導入
■ MineoDungeonBlockMV3
Androidの Microsoft Edge Canary
crxファイルをダウンロードしてインストールする方法。
mineodungeonblock-main.crx

https://github.com/macwindow/mineodunMV3butu/blob/main/mineodungeonblock-main.crx
Githubサイトで crxファイルをダウンロードする
スマホだと右側にある 3つの点 アイコン から Raw file content の Download
2つあった。どちらでもOK

このファイルをダウンロードしますか？
警告ダイアログが出るが、ダウンロードする。
2.00KB (ver7.27.1)


まず 開発者向けオプション を表示させる

メニュー - [ 設定 ] - [ Microsoft Edgeについて ]
バージョンの番号あたりを7回？タップ

[ 設定 ] に [開発者向けオプション ] の項目が追加される

インストール
[ 設定 ] - [ 開発者向けオプション ] - [ Extension install by crx ]

[ Choose .crx file ] を押す
mineodungeonblock-main.crx
を選択する
installするときには2.05KBになっている
[ OK ] を押す


メニュー - [ 拡張機能 ] - [ 拡張機能の管理 ] を見て
インストール済みになっているか確認

以上

* crxはパッケージ化した拡張機能の拡張子
* メニュー - [ 拡張機能 ] - [ 拡張機能の管理 ] からは探せない 20250727

-------------
■ 一応 免責条項
自己責任でご利用ください。
使用すること、使用しないこと、使用できないことで生じた損害、損失の責任は負いません。
動作保証しません。
情報の正確性を保証しません。
予告なく改訂、変更、公開終了することがあります。

-------------
★★動作おかしい★★
20250726
PC-Edgeを起動したあとダンジョンをプレイしようとしたら、90%までは表示されたが、そのあと黒い画面になり、フリーズした感じになった
一旦閉じて、拡張機能を無効、有効、再読込、 サービスワーカーコンソールの表示
などしたら正常動作した
その後、再現しない

★★動作おかしい★★
20250726
PC-Edge
非アクティブでワープ使ったら、通信エラーにならず。
その後、再現しない

★★動作おかしい★★
20250727
Android Edge Canary 
2日ぶりくらいに起動したらインストールが外れていた。


----------------------------------------
----------------------------------------
----------------------------------------
以下ひとりごとたわごと
--------------------
memo
https://developer.chrome.com/blog/longer-esw-lifetimes?hl=ja
サービスワーカーの存続時間は30sec

ビューの検査 サービスワーカーをクリックして コンソール画面を出す
コンソール画面を表示していると 非アクティブにならない


非アクティブで階段降りたら、通信エラーになった。
ワープ後のメッセージで 非アクティブになるのをまってから、通信したら、通信エラーになった。
階段後のメッセージで 非アクティブになるのをまってから、通信したら、通信エラーになった。

★★★
★★回避したい★★
サービスワーカーが非アクティブから動作させると、つまった感じになる気がする。
サービスワーカーが動く時間を待っているぽい
気のせいかも
非アクティブから動作スムーズだった。
非アクティブから動作スムーズだった。関係ないか


service_worker.jsの先頭のconst dems = 960; を少し小さくする
